import{K as x,r as o,a as s,P as c,aq as V,aG as L,al as f,aA as w,aB as k,aC as O,g as M,an as D,h as R,aH as E,aI as _,ak as S}from"./entry.client-BLnSq4tB.js";import{H as F}from"./circular-ga83n0Za-CN55fn0a.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],$e=x("chevrons-down-up",J);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]],U=x("chevrons-left-right",T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Me=x("chevrons-up-down",B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75",key:"175t95"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3",key:"1vce0s"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4",key:"o3fkw4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857",key:"1szpfk"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38",key:"9yhvd4"}]],K=x("circle-fading-plus",G);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M5 12h14",key:"1ays0h"}]],X=x("minus",W);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Z=x("plus",Y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ee=x("refresh-ccw-dot",Q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]],re=x("square-minus",se);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],te=x("square-plus",ae),h=o.forwardRef(({className:e,...r},a)=>s.jsx("div",{ref:a,className:c("rounded-xl border bg-card text-card-foreground shadow-xs",e),...r}));h.displayName="Card";const ne=o.forwardRef(({className:e,...r},a)=>s.jsx("div",{ref:a,className:c("flex flex-col space-y-1.5 p-6",e),...r}));ne.displayName="CardHeader";const ie=o.forwardRef(({className:e,...r},a)=>s.jsx("h3",{ref:a,className:c("font-semibold leading-none tracking-tight",e),...r}));ie.displayName="CardTitle";const le=o.forwardRef(({className:e,...r},a)=>s.jsx("p",{ref:a,className:c("text-sm text-muted-foreground",e),...r}));le.displayName="CardDescription";const oe=o.forwardRef(({className:e,...r},a)=>s.jsx("div",{ref:a,className:c("p-6 pt-0",e),...r}));oe.displayName="CardContent";const ce=o.forwardRef(({className:e,...r},a)=>s.jsx("div",{ref:a,className:c("flex items-center p-6 pt-0",e),...r}));ce.displayName="CardFooter";const de=V("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",muted:"bg-muted text-muted-foreground ",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:e,variant:r,...a}){return s.jsx("div",{className:c(de({variant:r}),e),...a})}const xe=(e,r)=>e.reduce((a,n)=>{const i=r(n);return a[i]||(a[i]=[]),a[i].push(n),a},{}),q=({schema:e,hideDescription:r=!1})=>s.jsx("div",{className:"flex flex-col gap-1 text-xs",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Const value: "}),s.jsx(f,{className:"border rounded px-1 font-mono",children:e.const}),!r&&e.description&&s.jsx("div",{className:"text-muted-foreground",children:e.description})]})}),j=({values:e,className:r,maxVisibleValues:a=8})=>{const[n,i]=o.useState(!1);if(!e.length)return null;const t=e.length>a,l=t&&!n?e.slice(0,a):e;return s.jsxs("div",{className:c("flex flex-wrap gap-1.5 text-xs",r),children:[s.jsx("span",{className:"text-muted-foreground",children:"Enum values: "}),l.map(d=>s.jsx("div",{children:s.jsx(f,{className:"border rounded-sm px-1 font-mono",children:d})},d)),t&&s.jsx(R,{variant:"ghost",size:"sm",className:"h-fit px-0",onClick:()=>i(!n),children:n?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(E,{size:12}),s.jsx("span",{className:"text-muted-foreground",children:"show less"})]}):s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_,{size:12}),s.jsxs("span",{className:"text-muted-foreground",children:["show ",e.length-a," more"]})]})})]})},pe=({pattern:e})=>{const[r,a]=o.useState(!1),n=e.length>20,i=n?`${e.slice(0,20)}…`:e;return s.jsxs(S,{className:c("text-xs",n&&"cursor-pointer"),onClick:()=>a(!r),selectOnClick:!1,children:[r?e:i,n&&s.jsx("button",{type:"button",className:"p-1 translate-y-[2px]",children:!r&&s.jsx(U,{size:12})})]})},he=e=>e?[e.type==="array"&&e.items.type?Array.isArray(e.items.type)?`(${e.items.type.join(" | ")})[]`:`${e.items.type}[]`:Array.isArray(e.type)?e.type.join(" | "):e.type,e.enum&&"enum",e.const&&"const",e.format,e.minimum!==void 0&&`min: ${e.minimum}`,e.maximum!==void 0&&`max: ${e.maximum}`,e.minLength!==void 0&&`minLength: ${e.minLength}`,e.maxLength!==void 0&&`maxLength: ${e.maxLength}`,e.minItems!==void 0&&`minItems: ${e.minItems}`,e.maxItems!==void 0&&`maxItems: ${e.maxItems}`,e.minProperties!==void 0&&`minProps: ${e.minProperties}`,e.maxProperties!==void 0&&`maxProps: ${e.maxProperties}`,e.uniqueItems&&"unique",e.readOnly&&"readOnly",e.writeOnly&&"writeOnly",e.deprecated&&"deprecated",e.pattern&&s.jsxs(s.Fragment,{children:["pattern: ",s.jsx(pe,{pattern:e.pattern})]})]:[],g=({schema:e,extraItems:r=[],className:a})=>{const n=[...he(e),...r].flatMap(i=>typeof i=="string"||o.isValidElement(i)?i:[]);return s.jsx("span",{className:a,children:n.map((i,t)=>s.jsxs("span",{className:"text-muted-foreground",children:[i,t<n.length-1&&s.jsx("span",{className:"text-muted-foreground/50",children:" · "})]},t))})},ue=({isOpen:e,className:r,schemeName:a})=>s.jsx("div",{className:c("text-green-500 dark:text-green-300/60","relative text-sm flex py-2","before:border-l before:absolute before:-top-2 before:-bottom-2 before:border-border before:border-dashed before:content-['']",r),children:s.jsxs("div",{className:"-translate-x-[7px] flex gap-1 items-center",children:[s.jsx(K,{size:16,className:"fill-card"}),s.jsx("div",{className:c("translate-y-px mx-px opacity-0 group-hover:opacity-100 transition",!e&&"-rotate-90"),children:s.jsx(_,{size:16})}),s.jsx("span",{className:"text-sm text-foreground",children:a})]})}),fe=e=>{const[r,a]=o.useState(!0);return s.jsxs(w,{open:r,onOpenChange:()=>a(n=>!n),className:"group",children:[s.jsx(k,{children:s.jsx(ue,{isOpen:r,schemeName:e.schema.title})}),!r&&s.jsx("div",{className:"wavy-line bg-border translate-y-1"}),s.jsx(O,{children:s.jsx(u,{schema:e.schema})})]})},P=({schema:e,cardHeader:r})=>{const[a,n]=o.useState(!0),i=o.useCallback(()=>n(t=>!t),[]);return e.allOf?s.jsx(w,{open:a,onOpenChange:i,asChild:!0,children:s.jsxs(h,{className:"overflow-hidden",children:[r,s.jsxs(k,{className:"flex gap-2 items-center py-2 px-6 w-full text-sm text-muted-foreground -translate-x-1.5",children:[a?s.jsx(re,{size:14}):s.jsx(te,{size:14}),s.jsx("span",{children:"All of"})]}),s.jsx(O,{className:"pb-4 px-6",children:e.allOf.map((t,l)=>s.jsx(fe,{schema:t},l))})]})}):null},v=({schema:e})=>{const r=e.examples?.at(0),a=e.default;return r===void 0&&a===void 0?null:s.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[r!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Example: "}),s.jsx(f,{className:"border rounded-sm px-1 font-mono",children:typeof r=="object"||typeof r=="boolean"?JSON.stringify(r):r})]}),a!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Default: "}),s.jsx(f,{className:"border rounded-sm px-1 font-mono",children:typeof a=="object"||typeof a=="boolean"?JSON.stringify(a):a})]})]})},I=e=>typeof e=="string"&&["string","number","boolean","integer","null"].includes(e)||Array.isArray(e)&&e.every(I),N=e=>e.type==="array"||Array.isArray(e.type)&&e.type.includes("array"),C=e=>e&&(e.type==="object"&&Object.keys(e.properties??{}).length>0||e.type==="array"&&typeof e.items=="object"&&(!e.items.type||e.items.type==="object")),z=e=>typeof e=="string"&&e.startsWith(F),A=e=>N(e)&&"items"in e&&z(e.items),ye=e=>typeof e=="string"?e.split(":")[1]:void 0,$=({circularProp:e})=>s.jsxs(S,{className:"inline-flex items-center gap-1.5 italic text-xs translate-y-0.5",selectOnClick:!1,children:[s.jsx(ee,{size:13}),s.jsx("span",{children:e?`${e} (circular)`:"circular"})]}),je=({name:e,schema:r,group:a,defaultOpen:n=!1,showCollapseButton:i=!0})=>{const[t,l]=o.useState(n);if(z(r))return s.jsx("li",{className:"p-4 bg-border/20 hover:bg-border/30",children:s.jsxs("div",{className:"flex flex-col gap-2.5 justify-between text-sm",children:[s.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[s.jsx("code",{children:e}),s.jsx(g,{schema:r,extraItems:[s.jsx($,{},"circular-ref")]})]}),s.jsx(v,{schema:r})]})});const d=!!((r.allOf||r.anyOf||r.oneOf||C(r)||N(r)&&"items"in r&&C(r.items)||r.additionalProperties)&&!A(r));return s.jsx("li",{className:"p-4 bg-border/20 hover:bg-border/30",children:s.jsxs("div",{className:"flex flex-col gap-2.5 justify-between text-sm",children:[s.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[s.jsx(f,{asChild:!0,children:s.jsx("code",{children:e})}),s.jsx(g,{schema:r,extraItems:[a!=="optional"&&s.jsx("span",{className:"text-primary",children:"required"}),A(r)&&s.jsx($,{circularProp:ye(r.items)})]})]}),r.description&&s.jsx(M,{className:"text-sm leading-normal",content:r.description}),r.type==="array"&&"items"in r&&r.items.enum&&s.jsx(j,{values:r.items.enum}),r.const&&s.jsx(q,{schema:r,hideDescription:!0}),r.enum&&s.jsx(j,{values:r.enum}),s.jsx(v,{schema:r}),d&&s.jsxs(w,{defaultOpen:n,open:t,onOpenChange:()=>l(!t),children:[i&&s.jsx(k,{asChild:!0,children:s.jsxs(D,{variant:"expand",size:"sm",children:[t?s.jsx(X,{size:12}):s.jsx(Z,{size:12}),t?"Hide properties":"Show properties"]})}),s.jsx(O,{children:s.jsx("div",{className:"mt-2",children:r.allOf?s.jsx(P,{schema:r}):r.anyOf||r.oneOf||r.type==="object"?s.jsx(u,{schema:r}):N(r)&&"items"in r?s.jsx(u,{schema:r.items}):null})})]})]})})},H=e=>{const r=e.oneOf??e.anyOf??[];return e.properties&&Object.keys(e.properties).length>0?r.map(a=>!a.properties&&!a.type&&!a.allOf&&!a.oneOf&&!a.anyOf?{...a,type:"object",properties:e.properties,required:a.required??e.required}:a):r},ge=e=>{if(Array.isArray(e.oneOf))return"exactly-one";const r=e.discriminator?.propertyName;if(!r)return"at-least-one";const a=H(e),n=new Set;for(const i of a){const t=i.properties?.[r],l=t?.const??(Array.isArray(t?.enum)&&t.enum.length===1?String(t.enum[0]):void 0);if(l==null||n.has(String(l)))return"at-least-one";n.add(String(l))}return"exactly-one"},b=(e,r)=>r.title?.trim()||`Variant ${e+1}`,ve=(e,r)=>{const a=[];e.type&&a.push(`type = ${Array.isArray(e.type)?e.type.join("|"):e.type}`);const n=r?.discriminator?.propertyName;if(n){const t=e.properties?.[n],l=t?.const??(Array.isArray(t?.enum)&&t.enum.length===1?t.enum[0]:void 0);l!==void 0&&a.push(`${n}=${JSON.stringify(l)}`)}const i=(e.required??[]).filter(t=>t!==n);if(i.length){const t=i.slice(0,3).join(", "),l=i.length>3?` +${i.length-3} more`:"";a.push(`requires: ${t}${l}`)}return a},Ne=({variants:e,schema:r,selectedVariant:a,onSelectVariant:n})=>{const i=e.map((t,l)=>({label:b(l,t),guards:ve(t,r)}));return s.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[s.jsx("h4",{className:"font-medium",children:"Decision Table"}),s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"text-left p-2 font-medium",children:"Variant"}),s.jsx("th",{className:"text-left p-2 font-medium",children:"Matching Criteria"})]})}),s.jsx("tbody",{className:"divide-y",children:i.map(t=>s.jsxs("tr",{className:"hover:bg-muted/30",children:[s.jsx("td",{className:"p-2 font-medium",children:s.jsx("button",{type:"button",className:c("hover:underline",a===t.label&&"text-primary"),onClick:()=>n(t.label),children:t.label})}),s.jsx("td",{className:"p-2 text-muted-foreground text-xs",children:t.guards.length>0?t.guards.join(" · "):"No specific criteria"})]},t.label))})]})})]})},be=({variant:e})=>s.jsxs("div",{className:"space-y-2",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),s.jsx(u,{schema:e})]}),we=({schema:e,cardHeader:r})=>{const a=Array.isArray(e.oneOf)?"oneOf":Array.isArray(e.anyOf)?"anyOf":void 0,n=a?H(e):[],[i,t]=o.useState(()=>n[0]?b(0,n[0]):"");if(!a)return null;const l=ge(e)==="exactly-one"?s.jsxs(s.Fragment,{children:["Exactly one variant ",s.jsx("b",{children:"must match"}),"."]}):s.jsxs(s.Fragment,{children:["At least one variant ",s.jsx("b",{children:"must match"}),". Multiple variants"," ",s.jsx("i",{children:"may match"})," simultaneously."]}),d=n.findIndex((p,y)=>b(y,p)===i),m=d>=0?n[d]:null;return s.jsxs(h,{className:"overflow-hidden text-sm",children:[r,s.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{variant:"outline",children:a}),s.jsx("div",{className:"flex-1 p-2",children:s.jsx("span",{className:"text-sm",children:l})})]}),s.jsx(Ne,{variants:n,schema:e,selectedVariant:i,onSelectVariant:t}),s.jsxs("strong",{children:["Properties for ",i,":"]}),m&&s.jsx(be,{variant:m})]})]})},ke=e=>e&&s.jsx(M,{className:"text-sm leading-normal line-clamp-4",content:e}),Oe=(e,r)=>s.jsxs(h,{className:"overflow-hidden",children:[r,s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:s.jsx(g,{schema:e})}),e.enum&&s.jsx(j,{values:e.enum}),ke(e.description),s.jsx(v,{schema:e})]})]}),u=({schema:e,defaultOpen:r=!1,cardHeader:a,embedded:n})=>{if(!e||Object.keys(e).length===0)return s.jsxs(h,{className:"overflow-hidden",children:[a,s.jsx("div",{className:"text-sm text-muted-foreground italic p-4",children:"No data returned"})]});if(e.const)return s.jsx(q,{schema:e});if(Array.isArray(e.oneOf)||Array.isArray(e.anyOf))return s.jsx(we,{schema:e,cardHeader:a});if(Array.isArray(e.allOf))return s.jsx(P,{schema:e,cardHeader:a});if(I(e.type))return Oe(e,a);if(e.type==="array"&&typeof e.items=="object")return s.jsx(u,{schema:e.items,cardHeader:a});if(e.type==="object"){const i=xe(Object.entries(e.properties??{}),([m,p])=>p.deprecated?"deprecated":e.required?.includes(m)?"required":"optional"),t=["required","optional","deprecated"],l=typeof e.additionalProperties=="object"?s.jsx(u,{schema:e.additionalProperties,embedded:!0}):e.additionalProperties===!0?s.jsxs("div",{className:"text-sm p-4 bg-border/20 hover:bg-border/30 flex items-center gap-1",children:[s.jsx("span",{children:"Additional properties are allowed"}),s.jsx("a",{className:"p-0.5 -m-0.5",href:"https://swagger.io/docs/specification/v3_0/data-models/dictionaries/",rel:"noopener noreferrer",target:"_blank",children:s.jsx(L,{size:14})})]}):null,d=n?"div":h;return s.jsxs(d,{className:"divide-y overflow-hidden",children:[a,t.map(m=>i[m]&&s.jsx("ul",{className:"divide-y",children:i[m].map(([p,y])=>s.jsx(je,{name:p,schema:y,group:m,defaultOpen:r},p))},m)),l]})}return null};export{Me as C,X as M,v as N,Z as P,xe as X,$e as a,g as b,j as g,N as h,u as p,z as q,h as t};
//# sourceMappingURL=SchemaView-m0NDK2i0-SAbk4dUL.js.map
